@(placeForm: Form[Place])
@import helper._
@import helper.twitterBootstrap._


@main("List"){
    <script>
        function del(urlToDelete) {
            $.ajax({
                url: urlToDelete,
                type: 'DELETE',
                success: function(results) {
                    // Refresh the page
                    location.reload();
                }
            });
        }
    </script>

    <div class="pull-left">
        @helper.form(action = routes.Application.upload, 'enctype -> "multipart/form-data") {
            <fieldset>
                <legend>Add a place</legend>
                <input type="hidden" value="@placeForm("id").valueOr("")" name="id"/>
                @helper.inputText(placeForm("name"), '_label -> "Name", 'placeholder -> "London")
                @helper.inputText(placeForm("country"), '_label -> "Country", 'placeholder -> "United Kingdom")
                @helper.textarea(placeForm("description"), '_label -> "Description", 'placeholder -> "Type a description here")
                @helper.inputFile(placeForm("picture"), '_label -> "Picture")
            </fieldset>
            <input type="submit" class="btn btn-primary" value="Save place">
            <a href="@routes.Application.showGrid()" class="btn btn-default">Cancel</a>
        }
    </div>

    @if(!placeForm("picture").valueOr("").isEmpty()){
        <div class="pull-right">
            <h4>Current picture</h4>
            <img style="height:300px" src="/get-picture-of-place/@placeForm("id").value" />
        </div>
    }

}